{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/common/Paginator/Paginator.module.css","components/common/Paginator/Paginator.jsx","components/Users/User/User.jsx","components/Users/Users.jsx","redux/usersSelectors.js","components/Users/UsersContainer.jsx"],"names":["_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","module","exports","Paginator","props","pagesCount","Math","ceil","totalUsersCount","pageSize","pages","keys","map","_","portionCount","portionSize","useState","portionNumber","setPortionNumber","leftPortionNumber","rightPortionNumber","className","Classes","paginator","onClick","filter","page","currentPage","selectedPage","onPageChanged","toString","User","user","to","id","src","photos","small","one","followed","disabled","followingInProgress","some","unfollow","follow","name","status","Users","users","getUsersSelector","state","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","isFetching","getFollowingInProgress","UsersContainer","getUsers","this","Preloader","React","Component","compose","connect"],"mappings":"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","file":"static/js/5.92b298f6.chunk.js","sourcesContent":["import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedPage\":\"Paginator_selectedPage__xvTlB\"};","import React, { useState } from 'react'\r\nimport Classes from './Paginator.module.css'\r\n\r\nconst Paginator = (props) => {\r\n    // Считаем сколько страниц, делим количество пользователей на лимит на странице\r\n    let pagesCount = Math.ceil(props.totalUsersCount / props.pageSize) \r\n    // Создаем массив со страницами\r\n    let pages = [...Array(pagesCount).keys()].map((_, i) => i + 1)\r\n    // Делим страницы на порции, добавляем кнопки для переключения\r\n    const portionCount = Math.ceil(pagesCount / props.portionSize)\r\n    const [portionNumber, setPortionNumber] = useState(1)\r\n    const leftPortionNumber = (portionNumber - 1) * props.portionSize + 1\r\n    const rightPortionNumber = portionNumber * props.portionSize\r\n\r\n    return (\r\n        <div className={Classes.paginator}>\r\n            \r\n            { portionNumber > 1 &&\r\n                <button onClick={() => setPortionNumber(portionNumber - 1)}>Назад</button>\r\n            }\r\n\r\n            {pages.filter(page => page >= leftPortionNumber && page <= rightPortionNumber)\r\n               .map(page => {\r\n                return (\r\n                <span className={\r\n                    props.currentPage === page\r\n                    && Classes.selectedPage}  key={page.toString()}\r\n                    onClick={() => { props.onPageChanged(page)}}>{page}</span>\r\n                    )\r\n            })}\r\n\r\n            { portionCount >= portionNumber &&\r\n                <button onClick={() => setPortionNumber(portionNumber + 1)}>Вперед</button>\r\n            }\r\n    \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Paginator","import React from 'react'\r\nimport one from './../../../images/avatars/one.png'\r\nimport { NavLink } from 'react-router-dom'\r\n\r\n\r\nconst User = ({ user, ...props }) => {\r\n    \r\n    return (\r\n        <div>\r\n            <span>\r\n                <div>\r\n                    <NavLink to={'/profile/' + user.id}>\r\n                        {<img src={user.photos.small != null ? user.photos.small : one}/>}\r\n                    </NavLink>\r\n                </div>\r\n                <div>\r\n                    {user.followed \r\n                    ? <button disabled={props.followingInProgress.some(id => id === user.id)}\r\n                     onClick={() => {props.unfollow(user.id)} /* sunk */}>Unfollow</button> \r\n                    : <button disabled={props.followingInProgress.some(id => id === user.id)}\r\n                     onClick={() => {props.follow(user.id) /* sunk */}}>Follow</button>\r\n                    }   \r\n                </div>\r\n            </span>\r\n            <span>\r\n                <span>\r\n                    <div>{user.name}</div>\r\n                    <div>{user.status}</div>\r\n                </span>\r\n                <span>\r\n                    <div>{'user.location.city'}</div>\r\n                    <div>{'user.location.country'}</div>\r\n                </span>\r\n            </span>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default User","import React from 'react'\r\nimport Paginator from '../common/Paginator/Paginator'\r\nimport User from './User/User'\r\n\r\nconst Users = (props) => {\r\n\r\n    return (\r\n        <div>\r\n            <Paginator \r\n                totalUsersCount={props.totalUsersCount}\r\n                pageSize={props.pageSize}\r\n                currentPage={props.currentPage}\r\n                onPageChanged={props.onPageChanged}\r\n                portionSize={10}\r\n            />\r\n\r\n            {props.users\r\n            .map(user => <User user={user} key={user.id} unfollow={props.unfollow} \r\n                follow={props.follow} followingInProgress={props.followingInProgress}/>)\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Users","\r\n\r\nexport const getUsersSelector = (state) => {\r\n    return state.usersPage.users\r\n}\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize\r\n}\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching\r\n}\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress\r\n}","import React from 'react'\r\nimport { connect } from \"react-redux\";\r\nimport { follow, unfollow, getUsers } from \"../../redux/usersReducer\";\r\nimport Users from './Users'\r\nimport Preloader from '../common/Preloader/Preloader';\r\n// import { withAuthRedirect } from '../../hoc/withAuthRedirect';\r\nimport { compose } from 'redux';\r\nimport {getUsersSelector, \r\n        getPageSize, \r\n        getTotalUsersCount, \r\n        getCurrentPage, \r\n        getIsFetching, \r\n        getFollowingInProgress} from './../../redux/usersSelectors'\r\n\r\nclass UsersContainer extends React.Component {\r\n    // После рендера компонента получаем массив с пользователями\r\n    componentDidMount() {\r\n        this.props.getUsers(this.props.currentPage, this.props.pageSize) /* thunk */\r\n    }\r\n    // Функция вызывается при клике на страницу и получает данные с сервера по новой\r\n    onPageChanged = (page) => {\r\n        this.props.getUsers(page, this.props.pageSize) /* thunk */\r\n    }\r\n\r\n    render() {\r\n        \r\n        return <>\r\n            <Preloader  isFetching={this.props.isFetching} />\r\n            <div>\r\n                <Users\r\n                    currentPage={this.props.currentPage} \r\n                    onPageChanged={this.onPageChanged}\r\n                    users={ this.props.users}\r\n                    unfollow={this.props.unfollow}\r\n                    follow={this.props.follow}\r\n                    totalUsersCount={this.props.totalUsersCount}\r\n                    pageSize={this.props.pageSize}\r\n                    followingInProgress={this.props.followingInProgress}\r\n                />\r\n            </div>      \r\n        </>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users : getUsersSelector(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount : getTotalUsersCount(state),\r\n        currentPage : getCurrentPage(state),\r\n        isFetching : getIsFetching(state),\r\n        followingInProgress : getFollowingInProgress(state)\r\n    } \r\n}\r\n\r\nexport default compose(\r\n    connect( mapStateToProps, { follow, unfollow, getUsers } ),\r\n    // withAuthRedirect\r\n)( UsersContainer )"],"sourceRoot":""}